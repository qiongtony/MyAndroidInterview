# final详解

- 所有的final修饰的字段都是编译期常量吗?不是，如赋值是变量或引用类型

- 如何理解private所修饰的方法是隐式的final?无法重写，

- 说说final类型的类如何拓展? 比如String是final类型，我们想写个MyString复用所有String中方法，同时增加一个新的toMyString()的方法，应该如何做?包装类

- final方法可以被重载吗? 可以

- 父类的final方法能不能够被子类重写? 不可以

- 说说final域重排序规则?基本数据类型和引用类型的读写

- 说说final的原理?

- 使用 final 的限制条件和局限性?

## final域重排序

写：final域的写禁止重排序到构造函数之外（在构造函数return之前，添加storeStore屏障）

> 数据依赖性：（同一个线程）如果两个操作访问同一个变量，且其中一个为写操作，此时这两个操作存在数据依赖性，不允许重排序

读：初次读对象引用和初次读该对象包含的final域，JMM禁止这两个操作重排序（不能把读对象内的final排到前面去！这样在并发下就不会读到空值了）