UDP、TCP

UDP

全程：User Date Protocal，用户数据包协议

无连接

尽最大交付，不保证可靠性，没有拥塞控制；

支持一对一、一对多、多对多

面向报文，应用：电话、即时通讯

首部开销小，只需要8字节

TCP

全称：Transmission Control Protocal，传输控制协议

面向连接

支持一对一

提高可靠交互

全双工通信

字节流

连接建立过程：三次握手；

连接断开过程：四次挥手；

可靠传输过程：

无差错；

超时重传：发送方迟迟没收到确认，重传；

（接收方）确认丢失：接收方收到了数据包，但是确认包在发送的时候丢了，发送方会重发一次数据，此时接收方知道是确认包丢了，所以会重发一次确认包给发送方

（发送方）确认迟到：确认包不是丢了，是慢了，这时候发送方就知道是确认包收晚了，不做处理

![](https://raw.githubusercontent.com/qiongtony/SavedPhoto/main/20210323155841.png)

首部64字节

流量控制：

发送方发太慢了->滑动窗口

一次可以发送滑动窗口内的数据包

接收方全部收到：发送滑动窗口新的字节流位置

接收方某些没收到：发送三次该数据包的编号，发送方就知道要重发了

拥塞控制：

接收方处理不过来了

建立连接后定下拥塞窗口大小，

1. 满开始：窗口成倍增长；

2. 到达ssthresh初始值（加法增大）：窗口每次加1

3. 收到三个重复确认（快恢复）：窗口变为原来的一半，后面窗口每次加1

   

